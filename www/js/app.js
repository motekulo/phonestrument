/*
 * Please see the included README.md file for license terms and conditions.
 */


// This file is a suggested starting place for your code.
// It is completely optional and not required.
// Note the reference that includes it in the index.html file.


/*jslint browser:true, devel:true, white:true, vars:true */
/*global $:false, intel:false app:false, dev:false, cordova:false */


// For improved debugging and maintenance of your app, it is highly
// recommended that you separate your JavaScript from your HTML files.
// Use the addEventListener() method to associate events with DOM elements.

// For example:

// var el ;
// el = document.getElementById("id_myButton") ;
// el.addEventListener("click", myEventHandler, false) ;



// The function below is an example of the best way to "start" your app.
// This example is calling the standard Cordova "hide splashscreen" function.
// You can add other code to it or add additional functions that are triggered
// by the same event or other events.

var phonestrument = new Phonestrument();


// document.addEventListener("deviceready", onAppReady, false) ;
// document.addEventListener("onload", onAppReady, false) ;

// The app.Ready event shown above is generated by the init-dev.js file; it
// unifies a variety of common "ready" events. See the init-dev.js file for
// more details. You can use a different event to start your app, instead of
// this event. A few examples are shown in the sample code above. If you are
// using Cordova plugins you need to either use this app.Ready event or the
// standard Crordova deviceready event. Others will either not work or will
// work poorly.

// NOTE: change "dev.LOG" in "init-dev.js" to "true" to enable some console.log
// messages that can help you debug Cordova app initialization issues.
nx.onload = function(){
    console.log("nexusUI loaded from phonestrument");
//    seqmatrix.row = 4;
//    seqmatrix.col = 16;
//    seqmatrix.init();
//    seqmatrix.draw();
//    multi1.erase();
    
    addItemButton.on('*', function(data) {
        if (data.press == 1) {
            mainStage.addItem();
            phonestrument.beepToTest();
        }
    })
    
    mainStage.on('*', function(data) {
        
        console.log(data);
      //  var tohide = document.querySelector("#mainscreen");
      //  tohide.style.display="none";
     //   var toshow = document.querySelector("#sequencerscreen");
      //  toshow.style.display="block";
        
    })
    //var tohide = document.querySelector("#sequencerscreen");
   // tohide.style.display="none";
/*
    changebutton.on('*', function(data){
        console.log("Press: " + data.press + " X: " + data.x + " Y: " + data.y);
        if (data.press == 1) {
            //seqmatrix.erase();
            //nx.add("multislider");
            //window.location.href='page2.html';
            var canvastotransform = document.querySelector("#seqmatrix");
            nx.transform(canvastotransform, "multislider"); 
            //$("#seqmatrix").remove();
            //$("#nexusgui").append("<canvas nx=\"button\" id=\"testbutton\"></canvas>");
            //testbutton.init();
            //testbutton.draw();
            var parentDiv = document.querySelector("#tochange");
            var newChild = document.querySelector("#multi1");
            var oldChild = document.querySelector("#seqmatrix");
            //$("#multi1").height("100%");
            newChild.style.display="block";
            oldChild.style.display="none";

//            parentDiv.replaceChild(newChild, oldChild);
        };
    })

    changebackbutton.on('press', function(data) {
        if (data == 1) {
            var oldChild = document.querySelector("#multi1");
            var newChild = document.querySelector("#seqmatrix");
            //$("#multi1").height("100%");
            newChild.style.display="block";
            oldChild.style.display="none";

          console.log("Changing back");
        }
    })

*/

}

